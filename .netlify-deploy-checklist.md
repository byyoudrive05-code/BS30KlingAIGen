# Netlify Deployment Checklist

Use this checklist to ensure a smooth deployment to Netlify.

## Pre-Deployment

- [ ] All code is committed and pushed to your Git repository
- [ ] `.env` file is NOT committed (check `.gitignore`)
- [ ] Supabase project is set up and configured
- [ ] All database migrations are applied
- [ ] Supabase Edge Functions are deployed
- [ ] Storage bucket (`images`) is created
- [ ] Test the app locally with `npm run build` and `npm run preview`

## Netlify Setup

- [ ] Created Netlify account
- [ ] Connected Git repository to Netlify
- [ ] Verified build settings:
  - Build command: `npm run build`
  - Publish directory: `dist`
  - Node version: 18

## Environment Variables

Add these in Netlify Dashboard > Site settings > Environment variables:

- [ ] `VITE_SUPABASE_URL` - Your Supabase project URL
- [ ] `VITE_SUPABASE_ANON_KEY` - Your Supabase anon key

## First Deployment

- [ ] Click "Deploy site" in Netlify
- [ ] Wait for build to complete
- [ ] Check deployment logs for errors
- [ ] Visit your deployed site URL

## Post-Deployment Testing

- [ ] Site loads without errors
- [ ] Can access login page
- [ ] Can create/login to account
- [ ] Can navigate between tabs (Dashboard, History, Admin)
- [ ] Can see credit balance
- [ ] Can generate video (test with smallest credit cost)
- [ ] Video appears in History tab
- [ ] Check browser console for errors
- [ ] Test on mobile device

## Supabase Configuration

- [ ] Add Netlify URL to Supabase Auth redirect URLs
  - Go to: Authentication > URL Configuration
  - Add: `https://your-app.netlify.app`
- [ ] Verify CORS is configured in Edge Functions
- [ ] Test Edge Functions from deployed site

## Optional Enhancements

- [ ] Add custom domain
- [ ] Enable Netlify Analytics
- [ ] Set up form notifications
- [ ] Configure build notifications
- [ ] Add deploy previews for pull requests

## Troubleshooting

If something goes wrong:

1. Check Netlify build logs
2. Check browser console for errors
3. Verify environment variables are set correctly
4. Check Supabase Edge Function logs
5. Ensure Supabase URL is added to Auth redirect URLs
6. Clear build cache and redeploy

## Maintenance

- [ ] Set up monitoring for errors
- [ ] Plan for database backups (Supabase handles this)
- [ ] Document any custom configurations
- [ ] Share deployment URL with team/users

---

**Need help?** Check `DEPLOYMENT.md` for detailed instructions.
